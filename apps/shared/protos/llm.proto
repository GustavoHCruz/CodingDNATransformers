syntax = "proto3";

package llm;

import "google/protobuf/empty.proto";

service LlmService {
  rpc CreateModel (CreateModelRequest) returns (google.protobuf.Empty);
  rpc TrainModel (TrainModelRequest) returns (google.protobuf.Empty);
  rpc EvalModel (EvalModelRequest) returns (google.protobuf.Empty);
  rpc Predict (PredictRequest) returns (google.protobuf.Empty);
}

message CreateModelRequest {
  string approach = 1;
  string checkpoint = 2;
  string name = 3;
  string uuid = 4;
  bool isChild = 5;
}

message TrainModelRequest {
  string approach = 1;
  string checkpoint = 2;
  string name = 3;
  string uuid = 4;
  int32 dataLength = 5;
  int32 epochs = 6;
  int32 batchSize = 7;
  int32 gradientAccumulation = 8;
  float lr = 9;
  float warmupRatio = 10;
  optional float hideProb = 11;
  int32 seed = 12;
}

message EvalModelRequest {
  string uuid = 1;
  string modelAlias = 2;
}

message PredictRequest {
  string uuid = 1;
  string inputText = 2;
}
